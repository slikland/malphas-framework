<!DOCTYPE html>
<html>
<head>
	<meta name="Test" content="#FF00FF" />
	<title></title>
	<style>
	body{
		background-color: Test;
	}
	.color
	{
		display: inline-block;
		width: 100px;
		height: 30px;
	}
	</style>
</head>
<body>



</body>
<script type="text/javascript">
function rgb2hsl()
{
	var color, r, g, b;
	if(arguments.length == 1)
	{
		if(typeof(arguments[0]) == 'string')
		{
			color = Number('0x' + arguments[0].replace('/^#/', ''));
		}else
		{
			color = Number(arguments[0]);
		}
		r = color >> 16 & 0xFF;
		g = color >> 8 & 0xFF;
		b = color & 0xFF;
	}else if(arguments.length == 3)
	{
		r = Number(arguments[0]) & 0xFF >> 0;
		g = Number(arguments[1]) & 0xFF >> 0;
		b = Number(arguments[2]) & 0xFF >> 0;
		color = r << 16 | g << 8 | b;
	}else
	{
		throw new Error('Not a color');
	}

	r = r / 0xFF;
	g = g / 0xFF;
	b = b / 0xFF;

	min = Math.min(r, g, b);
	max = Math.max(r, g, b);
	delta = max - min;

	l = (max + min) * 0.5;

	if(delta == 0)
	{
		h = 0;
		s = 0;
	}else{
		if(l < 0.5)
		{
			s = delta / (max + min);
		}else
		{
			s = delta / (2 - max - min);
		}
		dr = (((max - r) / 6) + (delta / 2)) / delta;
		dg = (((max - g) / 6) + (delta / 2)) / delta;
		db = (((max - b) / 6) + (delta / 2)) / delta;

		if(r == max)
		{
			h = db - dg;
		}else if(g == max)
		{
			h = (1/3) + dr - db;
		}else if(b == max)
		{
			h = (2/ 3) + dg - dr;
		}
		if(h < 0) h += 1;
		if(h > 1) h -= 1;

	}
	return [h, s, l]
}

hsl = rgb2hsl(255, 0, 0);

// var_R = ( R / 255 )                     //RGB from 0 to 255
// var_G = ( G / 255 )
// var_B = ( B / 255 )

// var_Min = min( var_R, var_G, var_B )    //Min. value of RGB
// var_Max = max( var_R, var_G, var_B )    //Max. value of RGB
// del_Max = var_Max - var_Min             //Delta RGB value

// L = ( var_Max + var_Min ) / 2

// if ( del_Max == 0 )                     //This is a gray, no chroma...
// {
//    H = 0                                //HSL results from 0 to 1
//    S = 0
// }
// else                                    //Chromatic data...
// {
//    if ( L < 0.5 ) S = del_Max / ( var_Max + var_Min )
//    else           S = del_Max / ( 2 - var_Max - var_Min )

//    del_R = ( ( ( var_Max - var_R ) / 6 ) + ( del_Max / 2 ) ) / del_Max
//    del_G = ( ( ( var_Max - var_G ) / 6 ) + ( del_Max / 2 ) ) / del_Max
//    del_B = ( ( ( var_Max - var_B ) / 6 ) + ( del_Max / 2 ) ) / del_Max

//    if      ( var_R == var_Max ) H = del_B - del_G
//    else if ( var_G == var_Max ) H = ( 1 / 3 ) + del_R - del_B
//    else if ( var_B == var_Max ) H = ( 2 / 3 ) + del_G - del_R

//    if ( H < 0 ) H += 1
//    if ( H > 1 ) H -= 1
// }



function hsl2rgb(h, s, l)
{
	if(s == 0)
	{
		r = l * 255;
		g = l * 255;
		b = l * 255;
	}else
	{
		if( l < 0.5)
		{
			v2 = l * (1 + s);
		}else
		{
			v2 = (l + s) - (s * l);
		}

		v1 = 2 * l - v2;

		r = 255 * hue2rgb(v1, v2, h + (1/3));
		g = 255 * hue2rgb(v1, v2, h);
		b = 255 * hue2rgb(v1, v2, h - (1/3));
	}
	return r << 16 | g << 8 | b;
}

function hue2rgb(v1, v2, vh)
{
	if(vh < 0) vh += 1;
	if(vh > 1) vh -= 1;
	if((6 * vh) < 1) return (v1 + (v2 - v1) * 6 * vh);
	if((2 * vh) < 1) return (v2);
	if((3 * vh) < 2) return (v1 + (v2 - v1) * ((2/3) - vh) * 6);

	return v1;
}

// if ( S == 0 )                       //HSL from 0 to 1
// {
//    R = L * 255                      //RGB results from 0 to 255
//    G = L * 255
//    B = L * 255
// }
// else
// {
//    if ( L < 0.5 ) var_2 = L * ( 1 + S )
//    else           var_2 = ( L + S ) - ( S * L )

//    var_1 = 2 * L - var_2

//    R = 255 * Hue_2_RGB( var_1, var_2, H + ( 1 / 3 ) ) 
//    G = 255 * Hue_2_RGB( var_1, var_2, H )
//    B = 255 * Hue_2_RGB( var_1, var_2, H - ( 1 / 3 ) )
// }

// Hue_2_RGB( v1, v2, vH )             //Function Hue_2_RGB
// {
//    if ( vH < 0 ) vH += 1
//    if ( vH > 1 ) vH -= 1
//    if ( ( 6 * vH ) < 1 ) return ( v1 + ( v2 - v1 ) * 6 * vH )
//    if ( ( 2 * vH ) < 1 ) return ( v2 )
//    if ( ( 3 * vH ) < 2 ) return ( v1 + ( v2 - v1 ) * ( ( 2 / 3 ) - vH ) * 6 )
//    return ( v1 )
// }


var colors = [0xd9534f, 0xf0ad4e, 0x5bc0de, 0x337ab7, 0x5cb85c];
initColors = [].concat(colors);
var colorDist = [];

var i = colors.length;
ci = rgb2hsl(colors[0]);
ce = rgb2hsl(colors[4]);
di = [ce[0] - ci[0], ce[1] - ci[1], ce[2] - ci[2]];
while(i-- > 0)
{
	hsl = rgb2hsl(colors[i]);
	d = [(hsl[0] - ci[0]) / di[0], (hsl[1] - ci[1]) / di[1], (hsl[2] - ci[2]) / di[2]];
	colors[i] = d;
}

function drawColors2(colors)
{
	var container = document.createElement('div');
	var len = colors.length;
	var i = -1;
	var div;

	while(++i < len)
	{
		div = document.createElement('div');
		div.className = 'color';
		c = colors[i];
		c = c.toString(16);

		while(c.length < 6) c = '0' + c;
		c = '#' + c;
		div.style.backgroundColor = c;
		container.appendChild(div);
	}
	document.body.appendChild(container);
}

function drawColors(start, end)
{
	var len = colors.length;
	var i = -1;
	var div;

	var ci = rgb2hsl(start);
	var ce = rgb2hsl(end);

	var d = [ce[0] - ci[0], ce[1] - ci[1], ce[2] - ci[2]];

	var cols = [];
	while(++i < len)
	{
		diff = colors[i];
		h = d[0] * diff[0] + ci[0];
		s = d[1] * diff[1] + ci[1];
		l = d[2] * diff[2] + ci[2];
		// h = ((h % 1) + 1) % 1;
		// s = ((s % 1) + 1) % 1;
		// l = ((l % 1) + 1) % 1;
		c = hsl2rgb(h, s, l);
		cols[i] = c;
	}
	drawColors2(cols);
}

function drawColors3(start, end)
{
	var len = initColors.length;
	var i = -1;
	var div;

	var ri = start >> 16 & 0xFF;
	var gi = start >> 8 & 0xFF;
	var bi = start & 0xFF;

	var re = end >> 16 & 0xFF;
	var ge = end >> 8 & 0xFF;
	var be = end & 0xFF;

	var d = [re - ri, ge - gi, be - bi];

	var iri = initColors[0] >> 16 & 0xFF;
	var igi = initColors[0] >> 8 & 0xFF;
	var ibi = initColors[0] & 0xFF;

	var ire = initColors[4] >> 16 & 0xFF;
	var ige = initColors[4] >> 8 & 0xFF;
	var ibe = initColors[4] & 0xFF;

	var id = [ire - iri, ige - igi, ibe - ibi];

	var cols = [];
	while(++i < len)
	{
		r = initColors[i] >> 16 & 0xFF;
		g = initColors[i] >> 8 & 0xFF;
		b = initColors[i] & 0xFF;
		r = ((r - iri) / id[0]) * d[0] + ri;
		g = ((g - igi) / id[1]) * d[1] + gi;
		b = ((b - ibi) / id[2]) * d[2] + bi;
		console.log('>>', r, g, b);
		r = ((r % 256) + 256) % 256 >> 0;
		g = ((g % 256) + 256) % 256 >> 0;
		b = ((b % 256) + 256) % 256 >> 0;
		console.log('>', r, g, b);
		cols[i] = r << 16 | g << 8 | b;
	}
	drawColors2(cols);
}

drawColors(0xd9534f, 0x5cb85c);
drawColors(0xFF0000, 0x00FF00);
drawColors(0xFF0000, 0x0000FF);
drawColors(0x607d8b, 0x196f3);

drawColors3(0xd9534f, 0x5cb85c);
drawColors3(0xFF0000, 0x00FF00);
drawColors3(0xFF0000, 0x0000FF);
drawColors3(0x607d8b, 0x196f3);


</script>
</html>